> @ComponentScan은 `@Component`어노테이션 및 `streotype(@Service, @Repository, @Controller.)`어노테이션이 부여된 Class들을 **자동으로 Scan하여 Bean으로 등록**해주는 역할을 하는 어노테이션입니다.


## 왜 필요한가? 왜 만들어졌을까? 
---
스프링 빈을 등록할 때는 자바 코드의 @Bean이나 XML의 \<bean\> 등을 통해서 설정 정보에 직접 등록할 스프링 빈을 나열했다. 이렇게 등록해야 할 스프링 빈이 수십, 수백개가 되면 일일이 등록하기도 귀찮고, 설정 정보도 커지고, 누락하는 문제도 발생한다.
- 스프링은 설정 정보가 없어도 **자동으로 스프링 빈을 등록하는 컴포넌트 스캔이라는 기능**을 제공
- 의존관계도 자동으로 주입하는 **`@Autowired` 라는 기능도 제공**

> 아래와 같이 설정 정보에서 직접 등록할 스프링 빈을 나열한다. (@Bean을 통한 방법). 하지만 이게 누락도 생기고 귀찮다...

![[Pasted image 20231219233215.png| 400]]


> 하지만 아래는 @ComponentScan 는 @Component가 붙은 모든 클래스들을 스프링 빈으로 등록한다. 

![[Pasted image 20231219233338.png|400]]


기본적으로 스프링 빈의 이름은 클래스명을 그대로 사용하고 소문자로 저장한다. 
![[Pasted image 20231219233908.png]]



## 이 ComponentScan은 어떤 기준으로 탐색을 하는 것일까? 

## 탐색 위치와 기본 스캔 대상
--- 

- basePackages` : 탐색할 패키지의 시작 위치를 지정한다.
- basePackageClasses : 지정한 클래스의 패키지를 탐색 시작 위치로 지정한다. 
- 만약 지정하지 않으면 @ComponentScan이 붙은 설정 정보 클래스 패키지가 시작 위치가 된다 .

> 권장하는 방법은 설정 정보 클래스의 위치를 프로젝트 최상단에 두는 것이라고 한다. 


## 컴포넌트 스캔 기본 대상
---
컴포넌트 스캔은 `@Component` 뿐만 아니라 다음과 내용도 추가로 대상에 포함한다. 
- `@Component` : 컴포넌트 스캔에서 사용  
- `@Controller` : 스프링 MVC 컨트롤러에서 사용  
- `@Service` : 스프링 비즈니스 로직에서 사용
- `@Repository` : 스프링 데이터 접근 계층에서 사용 
- `@Configuration` : 스프링 설정 정보에서 사용


> 이러한 @Controller 와 같은 stereotype과 같은 것들은 @Component를 가지고 있는데, 상속 관계가 아니고, 단순히 스프링에서 인식하여 스캔을 한다. 

